{% extends "sidebar.html" %}
{% block content %}

<style>
.privacy-wrapper {
    max-width: 720px;
    margin: 40px auto;
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Arial, sans-serif;
}

.privacy-wrapper h2 {
    font-size: 26px;
    font-weight: 700;
    color: #18202c;
    margin-bottom: 24px;
}

/* Card */
.privacy-card {
    background: #ffffff;
    padding: 28px;
    border-radius: 16px;
    box-shadow: 0 4px 16px rgba(16,24,40,0.06);
    margin-bottom: 24px;
}

.privacy-card h3 {
    font-size: 18px;
    font-weight: 600;
    color: #0f1724;
    margin-bottom: 18px;
}

/* Form */
.form-group {
    margin-bottom: 16px;
}

.form-group label {
    display: block;
    margin-bottom: 6px;
    font-size: 14px;
    font-weight: 600;
    color: #374151;
}

.form-group input[type="password"] {
    width: 100%;
    padding: 11px 12px;
    border-radius: 10px;
    border: 1px solid #e5e7eb;
    font-size: 14px;
}

.form-group input:focus {
    outline: none;
    border-color: #667eea;
    box-shadow: 0 0 0 2px rgba(102,126,234,0.15);
}

/* Checkbox */
.checkbox-group {
    display: flex;
    align-items: center;
    gap: 10px;
    margin-bottom: 14px;
    font-size: 14px;
    color: #374151;
}

.checkbox-group input {
    width: 16px;
    height: 16px;
}

/* Buttons */
.btn {
    padding: 10px 18px;
    border-radius: 10px;
    border: none;
    cursor: pointer;
    font-weight: 600;
    font-size: 14px;
    transition: 0.2s;
}

.btn-primary {
    background: linear-gradient(135deg, #667eea, #764ba2);
    color: white;
}

.btn-primary:hover {
    transform: scale(1.02);
    box-shadow: 0 8px 18px rgba(102,126,234,0.3);
}
</style>

<div class="privacy-wrapper">

    <h2>Privacy Settings</h2>

    <!-- Change Password -->
    <div class="privacy-card">
        <h3>Change Password</h3>

        <form method="POST" action="{{ url_for('profile_bp.change_password') }}">

            <div class="form-group">
                <label>Current Password</label>
                <input type="password" name="current_password" required>
            </div>

            <div class="form-group">
                <label>New Password</label>
                <input type="password" name="new_password" required>
            </div>

            <div class="form-group">
                <label>Confirm New Password</label>
                <input type="password" name="confirm_password" required>
            </div>

            <button type="submit" class="btn btn-primary">
                Update Password
            </button>

        </form>
    </div>

    <!-- Privacy Preferences -->
    <div class="privacy-card">
        <h3>Privacy Preferences</h3>

        <form method="POST" action="{{ url_for('profile_bp.update_privacy') }}">

            <div class="checkbox-group">
                <input type="checkbox" name="email_notifications"
                       {% if user.email_notifications %}checked{% endif %}>
                <label>Receive email notifications</label>
            </div>

            <div class="checkbox-group">
                <input type="checkbox" name="show_profile"
                       {% if user.show_profile %}checked{% endif %}>
                <label>Show my profile to other users</label>
            </div>

            <button type="submit" class="btn btn-primary">
                Save Preferences
            </button>

        </form>
    </div>

</div>

{% endblock %}
